/*! VersionVI: 30F200066p x */
function WDSaisie(n,t,i,r){n!==undefined&&(WDChamp.prototype.constructor.apply(this,[t,i,r]),n.length>0&&(this.m_sIndication=n),this.m_bPlaceHolder=!bIEQuirks9Max&&(!bIE||10<=nIE))}WDSaisie.prototype=new WDChamp;WDSaisie.prototype.constructor=WDSaisie;WDSaisie.prototype.ms_sIndicationCouleur=bIE?"#808080":"rgb(128, 128, 128)";WDSaisie.prototype.ms_sIndicationStyleF="italic";WDSaisie.prototype.Init=function(n,t){WDChamp.prototype.Init.apply(this,[]);n&&(this.m_clObjetCalendrier=n);this.m_sFormatAffichage=t;this._GetChamps();this.RAZIndication()};WDSaisie.prototype._GetChamps=function(){this.bGestionTableZR()?(this.m_tabChamp=[],this.PourToutesLignesTableZR(this._GetChampsTableZR,this.nGetTableZRDebut())):this.m_tabChamp||(this.m_tabChamp=document.getElementsByName(this.m_sAliasChamp))};WDSaisie.prototype._GetChampsTableZR=function(n,t){this.m_tabChamp[n-t]=document.getElementsByName("zrl_"+n+"_"+this.m_sAliasChamp)[0]};WDSaisie.prototype.__PlaceIndication=function(n,t){this.m_bPlaceHolder?n.placeholder=this.m_sIndication:n.value.length==0&&(t&&n.blur(),n.value.length==0&&(this._SetStyle(n),n.value=this.m_sIndication))};WDSaisie.prototype.RAZIndication=function(){var n,i,t;if(this.m_sIndication)for(this._GetChamps(),n=0,i=this.m_tabChamp.length,n=0;n<i;n++)t=this.m_tabChamp[n],t&&t.value!==undefined&&this.__PlaceIndication(t,!0)};WDSaisie.prototype._SetStyle=function(n){var t=clWDUtil.oGetCurrentStyle(n);n.sIndicationColor=t.color;n.sIndicationFontStyle=t.fontStyle;n.style.color=this.ms_sIndicationCouleur;n.style.fontStyle=this.ms_sIndicationStyleF;n.bIndication=!0};WDSaisie.prototype._ClearStyle=function(n){var t=clWDUtil.oGetCurrentStyle(n);t.color==this.ms_sIndicationCouleur&&n.sIndicationColor!==undefined&&(n.style.color=n.sIndicationColor,n.sIndicationColor=undefined);t.fontStyle==this.ms_sIndicationStyleF&&n.sIndicationFontStyle!==undefined&&(n.style.fontStyle=n.sIndicationFontStyle,n.sIndicationFontStyle=undefined);n.bIndication!==undefined&&(n.bIndication=!1)};WDSaisie.prototype.GetProp=function(n){switch(n){case this.XML_CHAMP_PROP_NUM_INDICATION:return this.m_sIndication?this.m_sIndication:"";default:return WDChamp.prototype.GetProp.apply(this,arguments)}};WDSaisie.prototype.SetProp=function(n,t,i,r,u){var e,f,o;i=WDChamp.prototype.SetProp.apply(this,arguments);switch(n){case this.XML_CHAMP_PROP_NUM_INDICATION:for(this._GetChamps(),f=0,o=this.m_tabChamp.length,f=0;f<o;f++)r=this.m_tabChamp[f],r&&(r.blur(),this.OnFocus(null,r));for(i.length>0?this.m_sIndication=i:delete this.m_sIndication,f=0;f<o;f++)r=this.m_tabChamp[f],r&&this.OnBlur(null,r);return i;case this.XML_CHAMP_PROP_NUM_BOUTONCALENDRIER:return e=r.nextSibling,clWDUtil.bBaliseEstTag(e,"div")&&clWDUtil.SetDisplay(e,i),i;case this.XML_CHAMP_PROP_NUM_ETAT:return e=r.nextSibling,clWDUtil.bBaliseEstTag(e,"div")&&clWDAJAXMain._AppliqueAttributEtat(u,e.firstChild,i,!0),i;default:return i}};WDSaisie.prototype.GetValeur=function(n,t,i){return!this.m_bPlaceHolder&&this.m_sIndication?i.bIndication?"":t:t};WDSaisie.prototype.SetValeur=function(n,t,i){if(WDChamp.prototype.SetValeur.apply(this,arguments),!this.m_bPlaceHolder&&this.m_sIndication){if(t.length==0)return i.bIndication||this._SetStyle(i),this.m_sIndication;i.bIndication&&this._ClearStyle(i)}return t};WDSaisie.prototype.OnFocus=function(n,t){if(!this.m_bPlaceHolder&&(n&&!t&&(t=clWDUtil.oGetTarget(n)),this.m_sIndication&&t.bIndication&&(this._ClearStyle(t),t.value="",bIE&&t.createTextRange))){var i=t.createTextRange();i.collapse(!0);i.moveStart("character",0);i.moveEnd("character",0);i.select();t.focus()}};WDSaisie.prototype.OnBlur=function(n,t){n&&!t&&(t=clWDUtil.oGetTarget(n));this.m_sIndication&&this.__PlaceIndication(t,!1)};WDSaisie.prototype.OnSubmit=function(){var n,i,t;if(!this.m_bPlaceHolder&&this.m_sIndication)for(this._GetChamps(),n=0,i=this.m_tabChamp.length,n=0;n<i;n++)t=this.m_tabChamp[n],t&&t.bIndication&&(this._ClearStyle(t),t.value="")};WDSaisie.prototype.OnChange=function(n,t,i){if(!this.m_bChangeDepuisCalendrier){!t&&n&&(t=clWDUtil.oGetTarget(n));try{this.m_bDepuisOnChange=i;this.MAJContenuCalendrier(n,t)}finally{delete this.m_bDepuisOnChange}}};WDSaisie.prototype.MAJContenuCalendrier=function(n,t){var i=t.bIndication?"":clWDUtil.sChaineVersDate(t.value,this.m_sFormatAffichage);this.m_clObjetCalendrier.OnChangeSaisie(n,i,t)};WDSaisie.prototype.OnChangeCalendrier=function(n,t,i){if(this.bGestionTableZR()){var r=document.getElementsByName(i.name);r.length==1&&(i=r[0],window.WDTableZRNavigateur&&this.oGetTableZRParent()instanceof WDTableZRNavigateur&&(n=n?clWDUtil.oCloneObjet(n):{},n.target=i))}if(t=clWDUtil.sDateVersChaine(t,this.m_sFormatAffichage),t=this.SetValeur(n,t,i),i.value=t,this.m_bChangeDepuisCalendrier=!0,!this.m_bDepuisOnChange)i.onchange(n);delete this.m_bChangeDepuisCalendrier}